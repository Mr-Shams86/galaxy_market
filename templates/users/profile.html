{% extends "base.html" %}
{% load static %}

{% block back_button %}
<a href="javascript:history.back()" class="inline-block bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded mb-4">
  ‚¨ÖÔ∏è –ù–∞–∑–∞–¥
</a>
{% endblock %}

{% block content %}
<div class="container py-5">
  {% if user.profile %}
  <div class="grid p-10 grid-cols-1 lg:grid-cols-3 sm:grid-cols-1 gap-8">
    <!-- –ê–≤–∞—Ç–∞—Ä -->
    <div class="rounded shadow-lg text-center">
      {% if user.profile.avatar %}
        <img src="{{ user.profile.avatar.url }}" alt="Avatar" class="w-72 h-72 object-cover rounded mx-auto" />
      {% else %}
        <img src="{% static 'img/default/default-avatar.png' %}" alt="No avatar" class="w-72 h-72 object-cover rounded mx-auto" />
      {% endif %}
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="lg:col-span-2 p-6 rounded-xl bg-black/30 backdrop-blur text-white border border-gray-700">
      <h2 class="text-2xl font-bold mb-2">
        {% if user.profile.nickname %}
          {{ user.profile.nickname }}
        {% else %}
          {{ user.username }}
        {% endif %}
      </h2>


      {% if request.user == user %}
        <a href="{% url 'users:edit_profile' %}" class="inline-block mb-2 text-sm text-blue-300 hover:underline">
          ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
        </a><br>
        <a href="{% url 'users:delete_profile' %}" class="inline-block bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded mt-2">
          üóë –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
        </a>
      {% endif %}

      <p class="mb-2"><strong>üë§ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</strong> {{ user.profile.nickname|default:"‚Äî" }}</p>
      <p class="mt-4 mb-2"><strong>Email:</strong> {{ user.email }}</p>
      <p class="mb-2"><strong>–û —Å–µ–±–µ:</strong> {{ user.profile.bio|default:"‚Äî" }}</p>
      <p class="mb-2"><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> {{ user.profile.contact_number|default:"‚Äî" }}</p>
      <p class="mb-2"><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> {{ user.profile.created_at|date:"d.m.Y H:i" }}</p>
    </div>
  </div>

  {% else %}
  <!-- –ü—Ä–æ—Ñ–∏–ª—å –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω -->
  <div class="text-center mt-10">
    <h2 class="text-xl font-semibold text-red-500">
      ‚ö†Ô∏è –ü—Ä–æ—Ñ–∏–ª—å –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω.
    </h2>
    <form method="post">
      {% csrf_token %}
      <button type="submit" class="mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded">
        ‚ûï –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
      </button>
    </form>
  </div>
  {% endif %}
</div>
{% endblock %}
