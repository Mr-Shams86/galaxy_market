{% extends "base.html" %}
{% load static %}

{% block back_button %}
<a href="javascript:history.back()" class="inline-block bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded mb-4">
  ‚¨ÖÔ∏è –ù–∞–∑–∞–¥
</a>
{% endblock %}

{% block content %}
{% if user.profile %}
<!-- üåå –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è (–∫–∞–∫ —É –ø—Ä–æ–¥–∞–≤—Ü–∞) -->
<div class="flex items-center justify-center px-4 mt-10 mb-10">
  <div class="w-full max-w-5xl p-6 rounded-xl bg-black/30 backdrop-blur text-white border border-gray-700">
    <h2 class="text-2xl font-bold mb-6">
      {% firstof user.profile.nickname user.username %}
    </h2>


    <div class="flex flex-col md:flex-row gap-8">
      <!-- üßë‚Äçü¶∞ –ê–≤–∞—Ç–∞—Ä -->
      <div class="flex-shrink-0">
        <img
          src="{{ user.profile.avatar_safe_url }}"
          alt="Avatar"
          class="w-60 h-60 object-cover rounded-lg border border-gray-700 shadow" />
      </div>

      <!-- üìÑ –î–∞–Ω–Ω—ã–µ -->
      <div class="flex-1 space-y-3 text-gray-200">
        <p><span class="text-gray-400">üë§ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span> {{ user.profile.nickname|default:"‚Äî" }}</p>
        <p><span class="text-gray-400">üìß Email:</span> {{ user.email }}</p>
        <p><span class="text-gray-400">üìù –û —Å–µ–±–µ:</span> {{ user.profile.bio|default:"‚Äî" }}</p>
        <p><span class="text-gray-400">üìû –¢–µ–ª–µ—Ñ–æ–Ω:</span> {{ user.profile.contact_number|default:"‚Äî" }}</p>
        <p><span class="text-gray-400">‚è∞ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span> {{ user.profile.created_at|date:"d.m.Y H:i" }}</p>

        {% if request.user == user %}
          <div class="pt-2 space-x-2">
            <a href="{% url 'users:edit_profile' %}" class="inline-block text-sm text-blue-300 hover:underline">
              ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
            </a>
            <a href="{% url 'users:delete_profile' %}" class="inline-block bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded">
              üóë –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
            </a>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% else %}
<!-- –ü—Ä–æ—Ñ–∏–ª—å –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω -->
<div class="text-center mt-10">
  <h2 class="text-xl font-semibold text-red-500">‚ö†Ô∏è –ü—Ä–æ—Ñ–∏–ª—å –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω.</h2>
  <form method="post">
    {% csrf_token %}
    <button type="submit" class="mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded">
      ‚ûï –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
    </button>
  </form>
</div>
{% endif %}
{% endblock %}
