{% extends "base.html" %}
{% load static %}
{% block content %}

<main class="mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28">
  <div class="sm:text-center lg:text-left">
    <h1 class="text-4xl font-extrabold text-gray-900 sm:text-5xl md:text-6xl">
      <span class="block xl:inline">üîß –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ï –ó–ê–ü–ß–ê–°–¢–ò üõ† –ò –ê–ö–°–ï–°–°–£–ê–†–´ SAMSUNG</span><br />
      <span class="block xl:inline text-green-500">–ü–û –í–´–ì–û–î–ù–´–ú –¶–ï–ù–ê–ú –í –ù–ê–®–ï–ú ONLINE-–ú–ê–ì–ê–ó–ò–ù–ï</span>
    </h1>

    <p class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0">
      <strong>üì¶ –í–´ –ú–û–ñ–ï–¢–ï –ó–ê–ö–ê–ó–ê–¢–¨ –ù–ê–î–Å–ñ–ù–´–ï –ö–û–ú–ü–õ–ï–ö–¢–£–Æ–©–ò–ï –î–õ–Ø –£–°–¢–†–û–ô–°–¢–í SAMSUNG –° –ë–ï–°–ü–õ–ê–¢–ù–û–ô –î–û–°–¢–ê–í–ö–û–ô üöö</strong>
    </p>
  </div>

  <!-- Messages -->
  {% if messages %}
  <ul class="text-center text-green-600 text-sm my-4">
    {% for message in messages %}
    <li>{{ message }}</li>
    {% endfor %}
  </ul>
  {% endif %}

  <!-- Search -->
  <form class="form-inline my-6 text-center" method="get">
    <input
      class="shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      type="search"
      name="search"
      placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞..."
    />
    <button class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded ml-2" type="submit">
      üîç –ù–∞–π—Ç–∏
    </button>
  </form>

  {% if show_add_button %}
  <div class="text-center my-4">
    <a href="{% url 'products:add_item' %}" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
      ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
    </a>
  </div>
{% endif %}

  <!-- Pagination top -->
  <div class="text-center my-4">
    {% if page_obj.has_previous %}
      <a href="?page=1">&laquo;</a>
      <a href="?page={{ page_obj.previous_page_number }}">&lt;</a>
    {% endif %}
    <span>{{ page_obj.number }}</span>
    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}">&gt;</a>
      <a href="?page={{ page_obj.paginator.num_pages }}">&raquo;</a>
    {% endif %}
  </div>

  <!-- Items Grid -->
  <div class="p-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-3 gap-6">
    {% for item in page_obj %}
    <a href="{% url 'products:detail' item.id %}">
      <div class="rounded overflow-hidden shadow-lg bg-white bg-opacity-90">
        
        {% if item.image %}
          <img
            class="w-full h-[200px] object-cover"
            src="{{ item.image.url }}"
            alt="{{ item.name }}"
          />
        {% else %}
          <img
            class="w-full h-[200px] object-cover"
            src="{% static 'img/default/default-image.png' %}"
            alt="No Image"
          />
        {% endif %}

        <div class="px-6 py-4">
          <p class="font-bold text-xl mb-2">{{ item.name }}</p>
          <p class="text-green-500 text-xl mb-2">$ {{ item.price }}</p>
          <p class="text-indigo-500 mb-2">by: {{ item.seller }}</p>
          <p class="text-gray-700 text-base">{{ item.description }}</p>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>

  <!-- Pagination bottom -->
  <div class="text-center mt-6">
    {% if page_obj.has_previous %}
      <a href="?page=1">&laquo;</a>
      <a href="?page={{ page_obj.previous_page_number }}">&lt;</a>
    {% endif %}
    <span>{{ page_obj.number }}</span>
    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}">&gt;</a>
      <a href="?page={{ page_obj.paginator.num_pages }}">&raquo;</a>
    {% endif %}
  </div>
</main>

{% endblock %}
